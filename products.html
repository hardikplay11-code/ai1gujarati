<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Products - Ai1 Gujarati Snacks</title>

  <style>
    * { box-sizing: border-box; margin:0; padding:0; }
    :root{ --accent:#ff9933; --wh:#25d366; --bg:#fff4e0; --card:#fff; }
    body { font-family: 'Segoe UI', Roboto, Arial, sans-serif; background: var(--bg); color:#3a2e25; }

    header { 
      position: sticky; top:0; 
      background:#fff4e0; padding:18px 12px; 
      display:flex; align-items:center; justify-content:space-between;
      z-index:1000;
    }
    header h1 { font-size:20px; font-weight:800; }

    /* Cart Icon Badge */
    #cartBadge {
      position:absolute; 
      top:-6px; right:-10px;
      background:#ff9933;
      color:white;
      padding:2px 6px;
      border-radius:50%;
      font-size:12px;
    }

    .container{ max-width:1100px; margin:0 auto; padding:18px; }
    .section-title { text-align:center; font-size:32px; font-weight:800; margin-top:40px; margin-bottom:20px; color:#3a2e25; }
    .products { 
      padding: 18px 0 40px; 
      display: grid; 
      grid-template-columns: repeat(3, 1fr); 
      gap: 18px; 
    }
    .card { 
      background: var(--card); 
      border-radius: 14px; 
      padding: 14px; 
      box-shadow: 0 6px 18px rgba(0,0,0,0.08); 
      position:relative; 
      display:flex; flex-direction:column; gap:8px;
    }

    .actions{ display:flex; gap:8px; margin-top:10px; align-items:center; }
    .btn { display:inline-flex; align-items:center; padding:10px 14px; border-radius:10px; font-weight:700; cursor:pointer; border:none; }
    .whatsapp-btn{ background:var(--wh); color:#fff; text-decoration:none; }
    .cart-btn{ background:var(--accent); color:#fff; }

    /* CART SHEET */
    #cartSheet {
      position: fixed; left: 0; right: 0; bottom: -100%; height: 72%; background: #ffffffcc; backdrop-filter: blur(12px); border-radius: 24px 24px 0 0; box-shadow: 0 -10px 25px rgba(0,0,0,0.15); transition: bottom .35s cubic-bezier(.25,.8,.25,1); z-index: 9999; padding: 20px; overflow-y: auto;
    }
    #cartSheet.show { bottom: 0; }

    .cart-item { display: flex; gap: 12px; padding: 12px; border-radius: 14px; background: white; margin-bottom: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.07); }
    .cart-item img { width: 68px; height: 68px; border-radius: 12px; object-fit: cover; }
    .cart-info { flex: 1; }
    .cart-title { font-size: 16px; font-weight: 700; }
    .cart-weight { font-size: 13px; color:#777; margin-top: 2px; }
    .cart-qty { display:flex; align-items:center; gap:10px; margin-top:8px; }
    .cart-qty button{ width:30px; height:30px; background:#ff9933; border:none; color:white; border-radius:8px; font-size:18px; cursor:pointer; }
    .cart-remove{ font-size:13px; color:red; cursor:pointer; margin-top:5px; }
    #cartTotalBar { position: sticky; bottom: 0; background: white; padding: 14px 18px; border-radius: 16px; box-shadow: 0 -5px 15px rgba(0,0,0,0.12); margin-top: 12px; }
    #checkoutBtn { width: 100%; padding: 14px; background: #ff9933; border: none; color: white; font-size: 18px; font-weight: 700; border-radius: 14px; margin-top: 10px; cursor: pointer; }

    /* ORDER SHEET */
    #orderSheet { position: fixed; left:0; right:0; bottom:-110%; height:78%; background:#ffffffee; backdrop-filter: blur(10px); border-radius:20px 20px 0 0; box-shadow:0 -12px 30px rgba(0,0,0,0.18); transition: bottom .35s cubic-bezier(.25,.8,.25,1); z-index:10010; padding:18px; overflow-y:auto; }
    #orderSheet.show { bottom: 0; }
    .order-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
    .order-product { display:flex; gap:12px; align-items:center; padding:12px; background:white; border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,0.06); }
    .order-product img { width:80px; height:80px; object-fit:cover; border-radius:10px; }
    .order-product .meta { flex:1; }
    .order-meta-title { font-weight:800; font-size:16px; }
    .order-meta-weight { font-size:13px; color:#666; margin-top:4px; }
    .order-qty button { width:36px; height:36px; border-radius:10px; background:var(--accent); color:white; border:none; font-size:20px; cursor:pointer; }
    .order-actions .btn { flex:1; text-align:center; }
    .order-info .fc-field { margin-top:8px; width:100%; padding:10px; border-radius:8px; border:1px solid #ddd; }
    .order-price { margin-top:12px; display:flex; justify-content:space-between; font-weight:800; font-size:18px; }

    @media (max-width:520px){ .order-product img { width:72px; height:72px; } #orderSheet { height:86%; } }
  @media (max-width: 900px) {
  .products {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 600px) {
  .products {
    grid-template-columns: repeat(1, 1fr);
  }
}
.products {
  gap: 30px !important;
}

.card {
  padding: 20px !important;
  border-radius: 18px !important;
  box-shadow: 0 6px 20px rgba(0,0,0,0.10) !important;
  transition: transform 0.25s ease, box-shadow 0.25s ease !important;
}

.card img {
  height: 240px !important;
  border-radius: 16px !important;
  transition: transform 0.3s ease !important;
}

.card:hover {
  transform: translateY(-6px) !important;
  box-shadow: 0 10px 28px rgba(0,0,0,0.15) !important;
}

.card:hover img {
  transform: scale(1.05) !important;
}

.btn:hover {
  opacity: 0.9 !important;
  transform: scale(1.03) !important;
  transition: 0.2s !important;
}


.filter-tabs-wrapper{
  position: sticky;
  top: 70px;
  z-index: 999;
  width: 100%;
  background: #fff4e0;
}

.filter-tabs{
  width: 100%;
  display: flex;
  justify-content: center;
  gap: 14px;
  padding: 12px 16px;
  flex-wrap: nowrap;
  overflow-x: auto;
}

.filter-tabs::-webkit-scrollbar{display:none;}

.tab{
  white-space: nowrap;
  padding: 8px 18px;
  border-radius: 999px;
  border: 1px solid #ddd;
  background: #f5f5f5;
  font-weight: 600;
  cursor: pointer;
}

.tab.active{
  background: var(--accent);
  color: #fff;
  border-color: var(--accent);
}


/* === MAKAR SANKRANTI FESTIVE EFFECT === */
#makar-bg {
  position: fixed;
  inset: 0;
  background: url('kitebg.jpg') center/cover no-repeat;
  z-index: -1;
  opacity: 0;
  transition: opacity 0.6s ease;
}

body.makar-active #makar-bg {
  opacity: 1;
}

.kite {
  position: fixed;
  width: 50px;
  height: 50px;
  width: 60px;
  pointer-events: none;
  animation: floatUp 4s linear forwards;
  z-index: 2000;
}

@keyframes floatUp {
  from { transform: translateY(100vh) rotate(0deg); opacity: 1; }
  to { transform: translateY(-120vh) rotate(360deg); opacity: 0; }
}

</style>
</head>
<body>
<div id='makar-bg'></div>

<header>
  <div class="brand" style="display:flex; align-items:center; gap:10px;">
    <img src="logo.jpeg" alt="logo" style="height:36px;border-radius:6px;">
    <h1>Ai1 Gujarati Snacks</h1>
  </div>

  <div style="display:flex; align-items:center; gap:16px;">
    <a href="index.html" style="padding:8px 14px; background:#ff9933; color:white; border-radius:8px; font-weight:700; text-decoration:none;">Home</a>

<div class="Whatsapp"><a href="https://wa.me/917984090490" style=" display:inline-block; padding:12px 18px; background:#25d366; color:white; font-weight:700; text-decoration:none; border-radius:10px; margin:10px 0; display:inline-flex; align-items:center; gap:8px; ">üí¨ Chat on WhatsApp</a></div>

    <div onclick="openCartSheet()" style="cursor:pointer; position:relative; font-size:22px;">
      üõí
      <span id="cartBadge">0</span>
    </div>
  </div>
</header>

<h2 class="section-title">Products</h2>

<!-- Search Bar Added Below Products Title -->
<div style="max-width:420px; margin:10px auto 28px auto;">
<input type="text" id="smartSearch" placeholder="Search products..."
oninput="smartSearchProducts()"
style="width:100%; padding:12px 16px; border:2px solid #ff9933; border-radius:12px; font-size:16px; outline:none; box-shadow:0 3px 10px rgba(0,0,0,0.05);">
 </div>

<!-- CATEGORY FILTER TABS -->
<div class="filter-tabs-wrapper">
  <div class="filter-tabs">
    <button class="tab active" data-filter="all">All</button>
    <button class="tab" data-filter="makar">Makarsankranti Special</button>
    <button class="tab" data-filter="ai1">Ai1 Special Combo</button>
    <button class="tab" data-filter="trending">Trending Product</button>
 
</div>

</div>


<script>
function smartSearchProducts() {
const term = document.getElementById("smartSearch").value.toLowerCase();
const cards = document.querySelectorAll('.card');


cards.forEach(card => {
const name = card.dataset.name.toLowerCase();
card.style.display = name.includes(term) ? 'block' : 'none';
});
}
</script>

<main class="container">
  <!-- PRODUCTS (identical markup to your homepage) -->
  <section class="products">

    <!-- PRODUCT 1 -->
    <div class="card" data-category="trending" data-name="Methi Khakhra" data-price="135">
      <img src="methi-khakhra.png" alt="Methi Khakhra">
      <h3>Methi Khakhra</h3>
      <p class="desc" style="font-size:14px;color:#6b5b4d;line-height:20px;">Crispy, aromatic methi-flavored khakhra roasted to perfection. A traditional Gujarati snack perfect for tea-time.</p>
      <div class="price">‚Çπ135</div>
      <div class="actions">
        <select class="qty-box">
          <option value="500g">500g</option>
          <option value="1kg">1kg</option>
        </select>
     <button class="btn whatsapp-btn" onclick="openOrderSheet(this.closest('.card'))">Order Now</button>
        <button class="btn cart-btn" onclick="addCartFromCard(this.closest('.card'))">Add to Cart</button>
      </div>
    </div>

    <!-- PRODUCT 13: Sing-dana Chikki -->
    <div class="card" data-category="makar trending" data-name="Sing-dana Chikki" data-price="80">
      <img src="Sing dana chikki.jpeg" alt="Sing-dana Chikki">
      <h3>Sing-dana Chikki</h3>
      <p class="desc" style="font-size:14px;color:#6b5b4d;line-height:20px;">Sing Dana Chikki is a crunchy peanut brittle made with roasted peanuts and pure jaggery. A classic, energy-rich sweet with the perfect balance of sweetness and crunch.</p>
      <div class="price">‚Çπ80</div>
      <div class="actions">
        <select class="qty-box">
           <option value="250g">250g</option>
          <option value="500g">500g</option>
        </select>
        <button class="btn whatsapp-btn" onclick="openOrderSheet(this.closest('.card'))">Order Now</button>
        <button class="btn cart-btn" onclick="addCartFromCard(this.closest('.card'))">Add to Cart</button>
      </div>
    </div>

  <!-- PRODUCT 14: Til laddu -->
    <div class="card" data-category="makar" data-name="Til Laddu" data-price="90">
      <img src="til laddu.jpg" alt="Til Laddu">
      <h3>Til Laddu</h3>
      <p class="desc" style="font-size:14px;color:#6b5b4d;line-height:20px;">Til Laddu Mini are bite-sized sesame ladoos made with roasted til and pure jaggery. Sweet, nutty, and wholesome‚Äîperfect for quick snacking and sharing.</p>
      <div class="price">‚Çπ90</div>
      <div class="actions">
        <select class="qty-box">
           <option value="250g">250g</option>
          <option value="500g">500g</option>
        </select>
        <button class="btn whatsapp-btn" onclick="openOrderSheet(this.closest('.card'))">Order Now</button>
        <button class="btn cart-btn" onclick="addCartFromCard(this.closest('.card'))">Add to Cart</button>
      </div>
    </div>

  <!-- PRODUCT 15: Mini Kachori(Jamnagari Kachori)-->
    <div class="card" data-category="trending" data-name="Mini Kachori(Jamnagari Kachori)" data-price="90">
      <img src="mini kachori.jpeg" alt="Mini Kachori(Jamnagari Kachori)">
      <h3>Mini Kachori(Jamnagari Kachori)</h3>
      <p class="desc" style="font-size:14px;color:#6b5b4d;line-height:20px;">Mini Jamnagari Kachori are crispy, bite-sized snacks filled with spicy, tangy traditional masala from Jamnagar. Perfect for tea-time and quick munching, they deliver big flavor in every mini bite.</p>
      <div class="price">‚Çπ90</div>
      <div class="actions">
        <select class="qty-box">
           <option value="250g">250g</option>
          <option value="500g">500g</option>
        </select>
        <button class="btn whatsapp-btn" onclick="openOrderSheet(this.closest('.card'))">Order Now</button>
        <button class="btn cart-btn" onclick="addCartFromCard(this.closest('.card'))">Add to Cart</button>
      </div>
    </div>

  <!-- PRODUCT 16: Mava Chikki-->
    <div class="card" data-category="makar" data-name="Mava Chikki" data-price="75">
      <img src="mava chikki.jpeg" alt="Mava Chikki">
      <h3>Mava Chikki</h3>
      <p class="desc" style="font-size:14px;color:#6b5b4d;line-height:20px;">Mava Chikki is a rich nutty sweet made with creamy mava and roasted nuts, offering a soft crunch and delicious melt-in-the-mouth taste. Perfect for sweet cravings and gifting.</p>
      <div class="price">‚Çπ75</div>
      <div class="actions">
        <select class="qty-box">
           <option value="250g">250g</option>
          <option value="500g">500g</option>
        </select>
        <button class="btn whatsapp-btn" onclick="openOrderSheet(this.closest('.card'))">Order Now</button>
        <button class="btn cart-btn" onclick="addCartFromCard(this.closest('.card'))">Add to Cart</button>
      </div>
    </div>

    <!-- PRODUCT 9: Namkeen Chevdo -->
    <div class="card" data-category="makar trending" data-name="Namkeen Chevdo" data-price="70">
      <img src="namkeen chevdo.jpeg" alt="Namkeen Chevdo">
      <h3>Namkeen Chevdo</h3>
      <p class="desc" style="font-size:14px;color:#6b5b4d;line-height:20px;">A crispy, light and perfectly spiced Gujarati-style snack, made with puffed rice and crunchy flakes. Fresh, flavorful and ideal for tea-time or anytime munching.
</p>
      <div class="price">‚Çπ70</div>
      <div class="actions">
        <select class="qty-box">
           <option value="250g">250g</option>
          <option value="500g">500g</option>
        </select>
        <button class="btn whatsapp-btn" onclick="openOrderSheet(this.closest('.card'))">Order Now</button>
        <button class="btn cart-btn" onclick="addCartFromCard(this.closest('.card'))">Add to Cart</button>
      </div>
    </div>

    <!-- PRODUCT 2 -->
    <div class="card" data-category="all" data-name="Sev" data-price="80">
      <img src="sev.png" alt="Sev">
      <h3>Sev</h3>
      <p class="desc" style="font-size:14px;color:#6b5b4d;line-height:20px;">Fresh, crunchy besan sev with authentic Gujarati spices. Light, tasty and perfect for snacking or topping dishes.</p>
      <div class="price">‚Çπ80</div>
      <div class="actions">
        <select class="qty-box">
          <option value="250g">250g</option>
          <option value="500g">500g</option>
        </select>
        <button class="btn whatsapp-btn" onclick="openOrderSheet(this.closest('.card'))">Order Now</button>
        <button class="btn cart-btn" onclick="addCartFromCard(this.closest('.card'))">Add to Cart</button>
      </div>
    </div>

    <!-- PRODUCT 3 -->
    <div class="card" data-category="all" data-name="Bhakharvadi" data-price="90">
      <img src="bhakharvadi.png" alt="Bhakharvadi">
      <h3>Bhakharvadi</h3>
      <p class="desc" style="font-size:14px;color:#6b5b4d;line-height:20px;">Traditional spiral snack stuffed with a sweet‚Äìspicy filling. Crispy, flavorful and a perfect tea-time delight.</p>
      <div class="price">‚Çπ90</div>
      <div class="actions">
        <select class="qty-box">
          <option value="250g">250g</option>
          <option value="500g">500g</option>
        </select>
        <button class="btn what
sapp-btn" onclick="openOrderSheet(this.closest('.card'))">Order Now</button>
        <button class="btn cart-btn" onclick="addCartFromCard(this.closest('.card'))">Add to Cart</button>
      </div>
    </div>

      
    <!-- PRODUCT 4: Ganthiya -->
    <div class="card" data-category="all" data-name="Ganthiya" data-price="120">
      <img src="ganthiya.png" alt="Ganthiya">
      <h3>Ganthiya</h3>
      <p class="desc" style="font-size:14px;color:#6b5b4d;line-height:20px;">Soft, traditional Gujarati Ganthiya made with premium besan. Light, airy and perfect with tea.</p>
      <div class="price">‚Çπ120</div>
      <div class="actions">
        <select class="qty-box">
          <option value="250g">250g</option>
          <option value="500g">500g</option>
        </select>
        <button class="btn whatsapp-btn" onclick="openOrderSheet(this.closest('.card'))">Order Now</button>
        <button class="btn cart-btn" onclick="addCartFromCard(this.closest('.card'))">Add to Cart</button>
      </div>
    </div>

    <!-- PRODUCT 5: Papdi -->
    <div class="card" data-category="makar" data-name="Papdi" data-price="110">
      <img src="papdi.png" alt="Papdi">
      <h3>Papdi</h3>
      <p class="desc" style="font-size:14px;color:#6b5b4d;line-height:20px;">Crispy, thin papdi perfect for chaats & snacking. Light crunch with authentic spices.</p>
      <div class="price">‚Çπ110</div>
      <div class="actions">
        <select class="qty-box">
          <option value="250g">250g</option>
          <option value="500g">500g</option>
        </select>
        <button class="btn whatsapp-btn" onclick="openOrderSheet(this.closest('.card'))">Order Now</button>
        <button class="btn cart-btn" onclick="addCartFromCard(this.closest('.card'))">Add to Cart</button>
      </div>
    </div>

    <!-- PRODUCT 6: Masala Sev -->
    <div class="card" data-category="all" data-name="Masala Sev" data-price="95">
      <img src="masala-sev.png" alt="Masala Sev">
      <h3>Masala Sev</h3>
      <p class="desc" style="font-size:14px;color:#6b5b4d;line-height:20px;">Spicy, tangy masala sev packed with bold Gujarati flavours. A perfect crunchy treat.</p>
      <div class="price">‚Çπ95</div>
      <div class="actions">
        <select class="qty-box">
          <option value="250g">250g</option>
          <option value="500g">500g</option>
        </select>
        <button class="btn whatsapp-btn" onclick="openOrderSheet(this.closest('.card'))">Order Now</button>
        <button class="btn cart-btn" onclick="addCartFromCard(this.closest('.card'))">Add to Cart</button>
      </div>
    </div>

    <!-- PRODUCT 7: Ratnami Sev -->
    <div class="card" data-category="all" data-name="Ratnami Sev" data-price="100">
      <img src="ratnami-sev.png" alt="Ratnami Sev">
      <h3>Ratnami (Spicy) Sev</h3>
      <p class="desc" style="font-size:14px;color:#6b5b4d;line-height:20px;">Extra spicy Ratnami sev with fiery masala. Perfect for spice lovers!</p>
      <div class="price">‚Çπ100</div>
      <div class="actions">
        <select class="qty-box">
          <option value="250g">250g</option>
          <option value="500g">500g</option>
        </select>
        <button class="btn whatsapp-btn" onclick="openOrderSheet(this.closest('.card'))">Order Now</button>
        <button class="btn cart-btn" onclick="addCartFromCard(this.closest('.card'))">Add to Cart</button>
      </div>
    </div>

    <!-- PRODUCT 8: Sakkarpara -->
    <div class="card" data-category="all" data-name="Sakkarpara" data-price="130">
      <img src="sakkarpara.png" alt="Sakkarpara">
      <h3>Sakkarpara</h3>
      <p class="desc" style="font-size:14px;color:#6b5b4d;line-height:20px;">Sweet, crunchy Sakkarpara made with pure ghee. A delightful bite-size treat.</p>
      <div class="price">‚Çπ130</div>
      <div class="actions">
        <select class="qty-box">
          <option value="250g">250g</option>
          <option value="500g">500g</option>
        </select>
        <button class="btn whatsapp-btn" onclick="openOrderSheet(this.closest('.card'))">Order Now</button>
        <button class="btn cart-btn" onclick="addCartFromCard(this.closest('.card'))">Add to Cart</button>
      </div>
    </div>



</section>
</main>

<!-- CART SHEET (copied from homepage) -->
<div id="cartSheet" aria-hidden="true">
  <div style="display:flex; justify-content:space-between; align-items:center;">
    <h2 style="font-size:20px;font-weight:800;">üõí Your Cart</h2>
    <button onclick="minimizeCartSheet()" style="background:#fff; border:1px solid #ddd; border-radius:50%; width:34px; height:34px; font-size:18px; cursor:pointer;">‚Üì</button>
  </div>
  <div style="height:12px;"></div>
  <div id="cartItems"></div>
  <div id="cartTotalBar">
    <div style="display:flex; justify-content:space-between; font-size:16px;">
      <span>Subtotal</span>
      <span id="cartSubtotal">‚Çπ0</span>
    </div>
    <button id="checkoutBtn" onclick="continueCheckout()">Continue to Checkout</button>
  </div>
</div>

<!-- ORDER SHEET (copied from homepage) -->
<div id="orderSheet" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="order-header">
    <div style="font-weight:800; font-size:18px;">Buy</div>
    <button onclick="closeOrderSheet()" style="background:transparent;border:none;font-size:20px;cursor:pointer;">‚úï</button>
  </div>

  <div class="order-product">
    <img id="os_img" src="" alt="product">
    <div class="meta">
      <div class="order-meta-title" id="os_name">Product</div>
      <div class="order-meta-weight" id="os_weight">500g</div>

      <div class="order-qty">
        <button onclick="changeOrderQty(-1)">‚àí</button>
        <div id="os_qty" style="font-weight:800; font-size:18px;">1</div>
        <button onclick="changeOrderQty(1)">+</button>
      </div>
    </div>
    <div style="font-weight:800; font-size:18px;" id="os_line">‚Çπ0</div>
  </div>

  <div style="margin-top:12px;">
    <label style="font-weight:700; font-size:14px;">Select weight</label>
    <select id="os_weight_sel" style="width:100%; padding:10px; margin-top:8px; border-radius:8px; border:1px solid #ddd;">
    </select>
  </div>

  <div class="order-info">
    <input id="os_name_field" class="fc-field order-info" placeholder="Full name">
    <input id="os_phone_field" class="fc-field order-info" placeholder="Phone number">
    <input id="os_house" class="fc-field order-info" placeholder="House / Flat No.">
    <input id="os_street" class="fc-field order-info" placeholder="Street / Area">
    <div style="display:flex; gap:8px;">
      <input id="os_city" class="fc-field order-info" placeholder="City" style="flex:1;">
      <input id="os_pin" class="fc-field order-info" placeholder="Pincode" style="width:110px;">
    </div>
  </div>

  
<!-- ===== PAYMENT METHOD (ADDED) ===== -->
<div id="paymentSection" style="margin-top:14px;">
  <label style="font-weight:700;">Payment Method</label>

  <div style="margin-top:8px;">
    <label style="display:block; margin-bottom:6px;">
      <input type="radio" name="paymentMethod" value="Cash on Delivery" checked onclick="toggleUPI(false)">
      Cash on Delivery
    </label>

    <label style="display:block;">
      <input type="radio" name="paymentMethod" value="UPI" onclick="toggleUPI(true)">
      UPI (Google Pay / PhonePe / Paytm)
    </label>
  </div>

  <div id="upiBox" style="
    display:none;
    margin-top:12px;
    padding:12px;
    background:#fff4e0;
    border-radius:12px;
    text-align:center;
  ">
    <div style="font-weight:700;">Pay via UPI</div>
    <div style="margin-top:6px;"><strong>UPI ID:</strong> 7984090490@kotak811</div>
    <img src="upi-qr.jpg" style="width:180px; margin-top:8px; border-radius:10px;">
    <input id="upiTxnId" required placeholder="Enter UPI Transaction ID"
      style="width:100%; padding:10px; margin-top:10px; border-radius:8px; border:1px solid #ccc;">
  </div>
</div>
<div style="margin-top:14px; display:flex; gap:10px;">
    <button class="btn cart-btn" style="flex:1;" onclick="addOrderToCart()">Add to Cart</button>
    <button class="btn whatsapp-btn" style="flex:1;" onclick="buyNow()">Buy Now</button>
  </div>

  <div class="order-price" style="margin-top:16px;">
    <div>Subtotal</div>
    <div id="os_total">‚Çπ0</div>
  </div>
</div>

<!-- OLD fullOrderPage kept but not used in 2C - left for compatibility -->
<div id="fullOrderPage" style="display:none;">
  <div class="full-order-header" style="
      padding:20px; 
      background:#ff9933; 
      color:white; 
      font-size:20px; 
      font-weight:800; 
      display:flex; 
      align-items:center;
    ">
    <span class="full-order-back" onclick="closeFullOrder()" style="cursor:pointer; margin-right:12px; font-size:26px;">‚Üê</span>
    Complete Your Order
  </div>

  <div style="padding:20px;">
    <h3 id="fullProductTitle" style="font-size:18px; margin-bottom:14px; color:#d65a00;"></h3>
    <div id="priceBreak" class="price-box">
      <div class="price-line"><span>Subtotal</span><span id="pb_sub">‚Çπ0</span></div>
      <div class="price-total">Total: <span id="pb_total">‚Çπ0</span></div>
    </div>
  </div>
</div>

<script>
function minimizeCartSheet(){
  document.getElementById("cartSheet").classList.remove("show");
}
/* MERGED SCRIPT FROM HOMEPAGE - copied verbatim so products page uses same functions */
const APPS_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwUvvp5ffQ9bV3QKIHUpFETI0DFauUs1Qg1u6TjRpkr0Lz6eB7rA2qJ-oWP09XD_V2B/exec";
let cart = [];
const weightMultipliers = { "250g": 1, "500g": 2, "1kg": 4 };
function safeParseInt(v){ return parseInt(String(v||"0").replace(/[^\d]/g,''),10) || 0; }
function findProductPrice(name){ const card = [...document.querySelectorAll(".card")].find(c => c.dataset.name === name); return safeParseInt(card?.dataset?.price); }
function openCartSheet(){ document.getElementById("cartSheet").classList.add("show"); }
function closeCartSheet(){ document.getElementById("cartSheet").classList.remove("show"); }
function addCartFromCard(card){ const name = card.dataset.name; const weight = card.querySelector(".qty-box").value; const existing = cart.find(i => i.name === name && i.weight === weight); if(existing) existing.qty++; else cart.push({ name, weight, qty:1 }); renderCart(); openCartSheet(); }
function renderCart(){ const box = document.getElementById("cartItems"); let subtotal = 0; if(!box) return; if(cart.length === 0){ box.innerHTML = `<p style="padding:20px;">Your cart is empty.</p>`; document.getElementById("cartSubtotal").innerText = "‚Çπ0"; document.getElementById("cartBadge").innerText = "0"; return; } let html = ""; cart.forEach((item, index)=>{  const price = findProductPrice(item.name);
    let mult;
if (item.name === "Methi Khakhra") {
    mult = item.weight === "1kg" ? 2 : 1;  // 500g = 1, 1kg = 2
} else {
    mult = weightMultipliers[item.weight] || 1;
} const line = price * mult * item.qty; subtotal += line; const img = item.name.toLowerCase().replace(/ /g, "-") + ".jpg"; html += `\n      <div class="cart-item">\n        <img src="${img}" alt="${item.name}">\n        <div class="cart-info">\n          <div class="cart-title">${item.name}</div>\n          <div class="cart-weight">${item.weight}</div>\n\n          <div class="cart-qty">\n            <button onclick="changeCartQty(${index}, -1)">‚àí</button>\n            <span id="cart-qty-${index}" style="font-weight:700;">${item.qty}</span>\n            <button onclick="changeCartQty(${index}, 1)">+</button>\n          </div>\n\n          <div class="cart-remove" onclick="removeCartItem(${index})">Remove</div>\n        </div>\n\n        <div style="font-weight:700; font-size:15px;">‚Çπ${line}</div>\n      </div>`; }); box.innerHTML = html; document.getElementById("cartSubtotal").innerText = "‚Çπ" + subtotal; document.getElementById("cartBadge").innerText = cart.reduce((a,b)=>a + (parseInt(b.qty||1,10)||1), 0); }
function changeCartQty(i, d){ cart[i].qty = Math.max(1, (parseInt(cart[i].qty||1,10) || 1) + d); document.getElementById(`cart-qty-${i}`).innerText = cart[i].qty; renderCart(); }
function removeCartItem(i){ cart.splice(i,1); renderCart(); }
function continueCheckout() {
  closeCartSheet();
  openOrderSheetForCart();
}
let os_current = { name: "", weight: "500g", qty:1, unit:0 };
function openOrderSheet(card){ let name, weight, unit; if(card instanceof Element){ name = card.dataset.name; weight = card.querySelector(".qty-box")?.value || "500g"; unit = findProductPrice(name); } else if (typeof card === "object"){ name = card.name; weight = card.weight; unit = card.unit || findProductPrice(card.name); } else { return; } os_current.name = name; os_current.weight = weight; os_current.qty = 1; os_current.unit = unit; document.getElementById("os_img").src = name.toLowerCase().replace(/ /g,"-") + ".jpg"; document.getElementById("os_name").innerText = name; document.getElementById("os_weight").innerText = weight; document.getElementById("os_qty").innerText = os_current.qty; const cardEl = [...document.querySelectorAll(".card")].find(c => c.dataset.name === name); const sel = document.getElementById("os_weight_sel"); sel.innerHTML = ""; if(cardEl){ cardEl.querySelectorAll('.qty-box option').forEach(o=>{ const op = document.createElement("option"); op.value = o.value; op.text = o.text; sel.appendChild(op); }); sel.value = os_current.weight; } else { sel.innerHTML = '<option value="500g">500g</option><option value="250g">250g</option><option value="1kg">1kg</option>'; sel.value = os_current.weight; } computeOrderSheetPrice(); document.getElementById("orderSheet").classList.add("show"); }
function openOrderSheetForCart(){ if(cart.length === 0) { openOrderSheet({ name: "Items", weight: "", unit: 0 }); return; } os_current.name = "Multiple Items"; os_current.weight = ""; os_current.qty = 1; os_current.unit = 0; document.getElementById("os_img").src = "cart.jpg"; document.getElementById("os_name").innerText = "Multiple Items"; document.getElementById("os_weight").innerText = cart.map(i=>`${i.name} (${i.weight}) √ó ${i.qty}`).join(" | "); document.getElementById("os_qty").innerText = "‚Äî"; document.getElementById("os_weight_sel").innerHTML = '<option value="">Multiple</option>'; computeOrderSheetPrice(); document.getElementById("orderSheet").classList.add("show"); }
function closeOrderSheet(){ document.getElementById("orderSheet").classList.remove("show"); }
function changeOrderQty(delta){ if(os_current.name === "Multiple Items") return; os_current.qty = Math.max(1, (parseInt(os_current.qty || 1,10) || 1) + delta); document.getElementById("os_qty").innerText = os_current.qty; computeOrderSheetPrice(); }
document.addEventListener('change', function(e){ if(e.target && e.target.id === "os_weight_sel"){ os_current.weight = e.target.value; document.getElementById("os_weight").innerText = os_current.weight; computeOrderSheetPrice(); } });
function computeOrderSheetPrice(){ let subtotal = 0; if(os_current.name === "Multiple Items"){ cart.forEach(i=>{ const p = findProductPrice(i.name); let mult;
if (i.name === "Methi Khakhra") {
    mult = i.weight === "1kg" ? 2 : 1;  // SPECIAL RULE
} else {
    mult = weightMultipliers[i.weight] || 1;
}
subtotal += p * mult * i.qty;
 }); } else {const unit = os_current.unit || findProductPrice(os_current.name) || 0;
    let mult;
if (os_current.name === "Methi Khakhra") {
    mult = os_current.weight === "1kg" ? 2 : 1;
} else {
    mult = weightMultipliers[os_current.weight] || 1;
}
    subtotal = unit * mult * (parseInt(os_current.qty||1,10) || 1);
  }
  document.getElementById("os_line").innerText = "‚Çπ" + subtotal;
  document.getElementById("os_total").innerText = "‚Çπ" + subtotal;
}
function addOrderToCart(){ if(os_current.name === "Multiple Items"){ openCartSheet(); closeOrderSheet(); return; } const existing = cart.find(i => i.name === os_current.name && i.weight === os_current.weight); if(existing) existing.qty = existing.qty + (parseInt(os_current.qty || 1,10) || 1); else cart.push({ name: os_current.name, weight: os_current.weight, qty: parseInt(os_current.qty || 1,10) || 1 }); renderCart(); openCartSheet(); closeOrderSheet(); }

function buyNow(){
  const buyer = document.getElementById("os_name_field").value.trim();
  const phone = document.getElementById("os_phone_field").value.trim();

  if(!buyer || !phone){
    alert("Please enter name and phone number.");
    return;
  }

  let itemsStr = "";
  let amount = 0;

  if(os_current.name === "Multiple Items"){
    itemsStr = cart.map(i=>`${i.name} (${i.weight}) √ó ${i.qty}`).join(" | ");

    cart.forEach(i=>{
      const p = findProductPrice(i.name);

      let mult;
      if(i.name === "Methi Khakhra"){
        mult = i.weight === "1kg" ? 2 : 1;
      } else {
        mult = weightMultipliers[i.weight] || 1;
      }

      amount += p * mult * i.qty;
    });

  } else {
    itemsStr = `${os_current.name} ‚Äî ${os_current.weight} √ó ${os_current.qty}`;

    let mult;
    if(os_current.name === "Methi Khakhra"){
      mult = os_current.weight === "1kg" ? 2 : 1;
    } else {
      mult = weightMultipliers[os_current.weight] || 1;
    }

    const unit = os_current.unit || findProductPrice(os_current.name);
    amount = unit * mult * os_current.qty;
  }

const selectedPayment =
  document.querySelector('input[name="paymentMethod"]:checked')?.value || "COD";

const upiTransactionId =
  document.getElementById("upiTxnId")?.value || "";

const paymentStatus =
  selectedPayment === "UPI" ? "Paid" : "Pending";

  const data = {
  name: buyer,
  phone,
  items: itemsStr,
  amount,
  house: document.getElementById("os_house").value || "",
  street: document.getElementById("os_street").value || "",
  city: document.getElementById("os_city").value || "",
  pincode: document.getElementById("os_pin").value || "",
  timestamp: new Date().toISOString(),

  payment: selectedPayment,           // ‚úÖ ADD
  transaction_id: upiTransactionId,   // ‚úÖ ADD
  payment_status: paymentStatus       // ‚úÖ ADD
};

  fetch(APPS_SCRIPT_URL, {
    method: "POST",
    mode: "no-cors",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  });

  alert("Order submitted! We received your order.");
  closeOrderSheet();
}


function closeFullOrder(){ document.getElementById("fullOrderPage").style.display="none"; }
function minimizeCartSheet(){ document.getElementById("cartSheet").classList.remove("show"); }

/* initialize */
document.addEventListener('DOMContentLoaded', function(){ renderCart(); });
function toggleUPI(show){
  const box = document.getElementById("upiBox");
  if(box) box.style.display = show ? "block" : "none";
  if(!show){
    const t = document.getElementById("upiTxnId");
    if(t) t.value = "";
  }
}

function getSelectedPayment(){
  const p = document.querySelector('input[name="paymentMethod"]:checked');
  return p ? p.value : "Cash on Delivery";
}
</script>
<div class="footer">
  ¬© 2025 Ai1 Gujarati Snacks ‚Äî Freshly Made & Delivered Across India
</div>


<script>
(function(){
  const tabs = document.querySelectorAll('.tab');
  const cards = document.querySelectorAll('.card');

  function applyFilter(filter){
    cards.forEach(card=>{
      const cat = card.dataset.category || 'all';
      card.style.display =
        filter === 'all' || cat.split(' ').includes(filter) ? 'block' : 'none';
    });
  }

  tabs.forEach(tab=>{
    tab.addEventListener('click',()=>{
      tabs.forEach(t=>t.classList.remove('active'));
      tab.classList.add('active');
      applyFilter(tab.dataset.filter);
    });
  });

  applyFilter('all');
})();
</script>


<script>
function triggerMakarEffect(){
  document.body.classList.add('makar-active');

  for(let i=0;i<18;i++){
    
    const kite = document.createElement('div');
    kite.innerHTML = `<svg width="50" height="50" viewBox="0 0 100 100">
      <polygon points="50,0 100,50 50,100 0,50" fill="#ff5722"/>
      <line x1="50" y1="100" x2="50" y2="160" stroke="#555" stroke-width="3"/>
    </svg>`;
    
    kite.className = 'kite';
    kite.style.left = Math.random()*100 + 'vw';
    kite.style.animationDelay = (Math.random()*0.5)+'s';
    document.body.appendChild(kite);
    setTimeout(()=>kite.remove(), 4500);
  }
}

document.querySelectorAll('.tab').forEach(tab=>{
  tab.addEventListener('click', ()=>{
    if(tab.dataset.filter === 'makar'){
      triggerMakarEffect();
    } else {
      document.body.classList.remove('makar-active');
    }
  });
});
</script>

</body>
<script src="main-cart.js">
function toggleUPI(show){
  const box = document.getElementById("upiBox");
  if(box) box.style.display = show ? "block" : "none";
  if(!show){
    const t = document.getElementById("upiTxnId");
    if(t) t.value = "";
  }
}

function getSelectedPayment(){
  const p = document.querySelector('input[name="paymentMethod"]:checked');
  return p ? p.value : "Cash on Delivery";
}
</script>


<script>
(function(){
  const tabs = document.querySelectorAll('.tab');
  const cards = document.querySelectorAll('.card');

  function applyFilter(filter){
    cards.forEach(card=>{
      const cat = card.dataset.category || 'all';
      card.style.display =
        filter === 'all' || cat.split(' ').includes(filter) ? 'block' : 'none';
    });
  }

  tabs.forEach(tab=>{
    tab.addEventListener('click',()=>{
      tabs.forEach(t=>t.classList.remove('active'));
      tab.classList.add('active');
      applyFilter(tab.dataset.filter);
    });
  });

  applyFilter('all');
})();
</script>


<script>
function triggerMakarEffect(){
  document.body.classList.add('makar-active');

  for(let i=0;i<18;i++){
    
    const kite = document.createElement('div');
    kite.innerHTML = `<svg width="50" height="50" viewBox="0 0 100 100">
      <polygon points="50,0 100,50 50,100 0,50" fill="#ff5722"/>
      <line x1="50" y1="100" x2="50" y2="160" stroke="#555" stroke-width="3"/>
    </svg>`;
    
    kite.className = 'kite';
    kite.style.left = Math.random()*100 + 'vw';
    kite.style.animationDelay = (Math.random()*0.5)+'s';
    document.body.appendChild(kite);
    setTimeout(()=>kite.remove(), 4500);
  }
}

document.querySelectorAll('.tab').forEach(tab=>{
  tab.addEventListener('click', ()=>{
    if(tab.dataset.filter === 'makar'){
      triggerMakarEffect();
    } else {
      document.body.classList.remove('makar-active');
    }
  });
});
</script>

</body>
</html>
